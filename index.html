<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>FAL AI Demo</title>
  </head>
  <body>
    <h1>FAL AI Image Generator</h1>
    <textarea id="prompt" placeholder="Enter your prompt..." rows="3" cols="50"></textarea><br>
    <button onclick="generate()">Generate</button>
    <div id="output"></div>

    <script>
      async function generate() {
        const prompt = document.getElementById("prompt").value;
        document.getElementById("output").innerHTML = "Generating...";

        const res = await fetch("/generate", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt }),
        });

        const data = await res.json();
        document.getElementById("output").innerHTML = 
          data.image_url ? `<img src="${data.image_url}" width="512">` : "Error generating image.";
      }
    </script>
  </body>
</html>
